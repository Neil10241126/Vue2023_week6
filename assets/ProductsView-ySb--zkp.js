import{a as l}from"./axios-G2rPRu76.js";import{u as f,e as m,f as g,c as o,a as t,F as d,g as k,o as a,t as c}from"./index-TJuOxc8L.js";var v={VITE_API_URL:"https://vue3-course-api.hexschool.io",VITE_API_PATH:"vue3-api-use",BASE_URL:"/Vue2023_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const A=t("h3",{class:"my-3"},"後台產品列表",-1),P={class:"container"},w={class:"table mt-4"},E=t("thead",null,[t("tr",null,[t("th",{width:"120"}," 分類 "),t("th",null,"產品名稱"),t("th",{width:"120"}," 原價 "),t("th",{width:"120"}," 售價 "),t("th",{width:"100"}," 是否啟用 ")])],-1),I={key:0,class:"text-success fw-bold"},V={key:1,class:"text-danger fw-bold"},x={__name:"ProductsView",setup(y){const{VITE_API_URL:r,VITE_API_PATH:i}=v,_=f(),u=m([]);function h(e=1){l.get(`${r}/v2/api/${i}/admin/products/?page=${e}`).then(n=>{u.value=n.data.products}).catch(n=>alert(n.response.data.message))}function p(){l.post(`${r}/v2/api/user/check`).then(()=>{h()}).catch(e=>{alert(e.response.data.message),_.push("/login")})}return g(()=>{const e=document.cookie.replace(/(?:(?:^|.*;\s*)token\s*=\s*([^;]*).*$)|^.*$/,"$1");l.defaults.headers.common.Authorization=e,p()}),(e,n)=>(a(),o(d,null,[A,t("div",P,[t("table",w,[E,t("tbody",null,[(a(!0),o(d,null,k(u.value,s=>(a(),o("tr",{key:s.id},[t("td",null,c(s.category),1),t("td",null,c(s.title),1),t("td",null,c(s.origin_price),1),t("td",null,c(s.price),1),t("td",null,[s.is_enabled?(a(),o("span",I,"啟用")):(a(),o("span",V,"未啟用"))])]))),128))])])])],64))}};export{x as default};
