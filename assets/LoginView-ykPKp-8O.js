import{u,e as c,c as m,a as e,i as r,j as i,k as p,o as _}from"./index-TJuOxc8L.js";import{a as f}from"./axios-G2rPRu76.js";var v={VITE_API_URL:"https://vue3-course-api.hexschool.io",VITE_API_PATH:"vue3-api-use",BASE_URL:"/Vue2023_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const h={class:"container"},w={class:"row justify-content-center align-items-center mt-5"},x=e("h1",{class:"h3 mb-3 font-weight-normal text-center"}," 請先登入 ",-1),g={class:"col-4"},b={id:"form",class:"form-signin"},V={class:"form-floating mb-3"},k=e("label",{for:"username"},"Email address",-1),E={class:"form-floating"},y=e("label",{for:"password"},"Password",-1),P=e("p",{class:"mt-5 mb-3 text-muted text-center"}," © 2021~∞ - 六角學院 ",-1),T={__name:"LoginView",setup(I){const{VITE_API_URL:l}=v,d=u(),o=c({username:"",password:""});function n(){f.post(`${l}/v2/admin/signin`,o.value).then(a=>{const{token:s,expired:t}=a.data;document.cookie=`token=${s}; expires=${t}; path=/`,alert(a.data.message),d.push("/admin/products")}).catch(a=>alert(a.response.data.message))}return(a,s)=>(_(),m("div",h,[e("div",w,[x,e("div",g,[e("form",b,[e("div",V,[r(e("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:"","onUpdate:modelValue":s[0]||(s[0]=t=>o.value.username=t)},null,512),[[i,o.value.username]]),k]),e("div",E,[r(e("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"",autocomplete:"on","onUpdate:modelValue":s[1]||(s[1]=t=>o.value.password=t),onKeyup:s[2]||(s[2]=p(t=>n(),["enter"]))},null,544),[[i,o.value.password]]),y]),e("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"button",onClick:s[3]||(s[3]=t=>n())}," 登入 ")])])]),P]))}};export{T as default};
